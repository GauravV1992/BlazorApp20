@page "/login"
@using BlazorApp20.Data;
@using BlazorApp20.Services;
@using System.Security.Claims;
@using System;
@using System.Web;
@using System.Collections.Generic;
@using System.Security.Claims;
@using System.Threading.Tasks;
@using Microsoft.AspNetCore.Authentication;
@using Microsoft.AspNetCore.Authentication.Cookies;
@using Microsoft.AspNetCore.Authorization;
@using Microsoft.AspNetCore.Mvc;
@using Microsoft.AspNetCore.Mvc.RazorPages;

@inject IAccountService AccountService
@inject NavigationManager NavigationManager
@*@inject IHttpContextAccessor httpContextAccessor*@
@inject AuthenticationStateProvider AuthenticationStateProvider
<div class="card">
    <h4 class="card-header">Login</h4>
    <div class="card-body">
        <input type="text"
               placeholder="User Name"
               @bind="@Username" />
        &nbsp;&nbsp;
        <input type="password"
               placeholder="Password"
               @bind="@Password" />

        <a class="ml-md-auto btn btn-primary"
           href="loginn4?paramUsername=@encode(@Username)&paramPassword=@encode(@Password)"
           target="_top">Login</a>

    </div>
</div>

@code {
    string Username = "";
    string Password = "";
    private string encode(string param)
    {
        return HttpUtility.UrlEncode(param);
    }

}
